<!DOCTYPE html>
<html>
<head>
    <title>Face Mask Detection</title>
    <style>
        body {
            font-family: Arial;
            background-color: #0f172a;
            color: white;
            text-align: center;
        }
        h1 { color: #38bdf8; }
        input {
            margin-top: 20px;
            padding: 10px;
        }
        #result {
            font-size: 22px;
            margin-top: 20px;
            color: yellow;
        }
        img {
            margin-top: 20px;
            max-width: 300px;
            border: 2px solid white;
        }
    </style>
</head>

<body>

<h1>AI Face Mask Detection</h1>
<p>Upload image to detect mask</p>

<input type="file" accept="image/*" onchange="loadImage(event)">
<br>

<img id="preview" />
<div id="result"></div>

<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>

<script>
    const URL = "https://teachablemachine.withgoogle.com/models/9k7slN9hf/";

    let model;

    async function loadModel() {
        const modelURL = URL + "model.json";
        const metadataURL = URL + "metadata.json";
        model = await tmImage.load(modelURL, metadataURL);
    }

    loadModel();

    function loadImage(event) {
        const img = document.getElementById("preview");
        img.src = URL.createObjectURL(event.target.files[0]);

        img.onload = async () => {
            const prediction = await model.predict(img);
            document.getElementById("result").innerHTML =
                "Result: " + prediction[0].className;
        };
    }
</script>

</body>
</html>
